import{G as Y,j as e,W as _,r as A,w as U,i as X,l as T,m as J,n as Z,o as ee,p as te,e as ae,q as z,t as se,v as ie,x as le,y as re,s as Q}from"./index-61294d4c.js";import{a as r,t as S,o as B,b as ne}from"./SkeletonCard-3cfb02b0.js";import{L as V}from"./ListMovieHorizontal-fbd6c493.js";import O from"./Error404Page-8725e989.js";import{E as oe}from"./Error500Page-cadeb64c.js";import{H as ce}from"./Helmet-573621e9.js";import{u as q}from"./useQuery-8e56d916.js";import{u as de}from"./useMutation-be516369.js";import"./Card-b559aee6.js";function me(s){return Y({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M271.653 1023.192c-8.685 0-17.573-3.432-24.238-10.097-13.33-13.33-13.33-35.144 0-48.474L703.67 508.163 254.08 58.573c-13.33-13.331-13.33-35.145 0-48.475 13.33-13.33 35.143-13.33 48.473 0L776.38 483.925c13.33 13.33 13.33 35.143 0 48.473l-480.492 480.694c-6.665 6.665-15.551 10.099-24.236 10.099z"}}]})(s)}const xe=s=>e.jsxs("div",{className:"detail",children:[e.jsx("div",{className:"container mx-auto relative z-[1] flex flex-col sm:flex-row justify-center items-center shadow-thickest rounded-lg w-full aspect-video",style:{width:"calc(100% - 2rem)",aspectRatio:"16 / 9",maxWidth:"1200px"}}),e.jsxs(_,{className:"relative z-[1] flex flex-col md:flex-row gap-8 md:gap-16 py-5",children:[e.jsx("div",{className:"flex justify-center md:justify-start",children:e.jsx(r,{baseColor:"#202020",highlightColor:"#444",className:"detail-card rounded-2xl w-60 h-[360px] hidden md:block"})}),e.jsxs("div",{className:"detail-content text-white md:flex-1",children:[e.jsx(r,{baseColor:"#202020",highlightColor:"#444",count:2,className:"name"}),e.jsxs("div",{className:"flex items-center gap-6 flex-wrap mt-4",children:[e.jsx(r,{baseColor:"#202020",highlightColor:"#444",className:"name w-10 h-3"}),e.jsx(r,{baseColor:"#202020",highlightColor:"#444",className:"name w-10 h-3"}),e.jsx(r,{baseColor:"#202020",highlightColor:"#444",className:"name w-10 h-3"})]}),e.jsxs("div",{className:"flex items-center mt-5 gap-x-8 gap-y-4 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(r,{baseColor:"#202020",highlightColor:"#444",className:"w-10 h-10",circle:!0}),e.jsx(r,{baseColor:"#202020",highlightColor:"#444"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(r,{baseColor:"#202020",highlightColor:"#444",className:"w-10 h-10",circle:!0}),e.jsx(r,{baseColor:"#202020",highlightColor:"#444"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(r,{baseColor:"#202020",highlightColor:"#444",className:"w-10 h-10",circle:!0}),e.jsx(r,{baseColor:"#202020",highlightColor:"#444"})]})]}),e.jsx(r,{baseColor:"#202020",highlightColor:"#444",className:"name mt-6 h-20"})]})]})]}),N="/fmovie/assets/movie-89aa908c.mp4",he="/fmovie/assets/mov-880ad18d.png",ue=({setShowVideo:s,handleToggleFavorite:o})=>{const[u,i]=A.useState(!1);return A.useEffect(()=>{const p=document.createElement("script");p.src="https://content.jwplatform.com/libraries/KB5zFt7A.js",p.async=!0,document.body.appendChild(p);const f=()=>{if(window.jwplayer){const c=window.jwplayer("player").setup({controls:!0,sharing:0,displaytitle:0,displaydescription:0,autostart:!0,abouttext:"Fmovie",aboutlink:"#",skin:{name:"netflix"},logo:{file:he,link:""},captions:{color:"#FFF",fontSize:14,backgroundOpacity:0,edgeStyle:"raised"},playlist:[{title:"",description:"",image:"",sources:[{file:N,label:"1440p"},{file:N,label:"1080p",default:!0},{file:N,label:"720p"},{file:N,label:"480p"},{file:N,label:"360p"},{file:"",label:"240p"},{file:"",label:"160p"}],captions:[{file:"#",label:"Bangla",kind:"captions"},{file:"#1",label:"English",kind:"captions",default:!0},{file:"#2",label:"German",kind:"captions"},{file:"#3",label:"Hungarian",kind:"captions"},{file:"#4",label:"Italian",kind:"captions"},{file:"#5",label:"Malayalam",kind:"captions"},{file:"#6",label:"Portuguese",kind:"captions"},{file:"#7",label:"Russian",kind:"captions"},{file:"#8",label:"Spanish",kind:"captions"}],tracks:[{file:"",kind:"thumbnails"}]}],advertising:{client:"vast",schedule:[{offset:"pre",tag:""}]}});c.on("ready",function(){var y,b,F;const l=c.getContainer(),t=l.querySelector(".jw-button-container"),L=t.querySelector(".jw-spacer"),j=l.querySelector(".jw-slider-time");t.replaceChild(j,L);const k=l.querySelector(".jw-display-icon-rewind").cloneNode(!0),g=k.querySelector(".jw-icon-rewind");g.style.transform="scaleX(-1)",g.setAttribute("aria-label","Forward 10 Seconds");const n=l.querySelector(".jw-display-icon-next");n&&((y=n.parentNode)==null||y.insertBefore(k,n)),(b=l.querySelector(".jw-display-icon-next"))==null||b.setAttribute("style","display: none");const w=t.querySelector(".jw-icon-rewind"),d=w.cloneNode(!0);d.style.transform="scaleX(-1)",d.setAttribute("aria-label","Forward 10 Seconds"),(F=w.parentNode)==null||F.insertBefore(d,w.nextElementSibling),[g,d].forEach(m=>{m==null||m.addEventListener("click",()=>{c.seek(c.getPosition()+10)})});let v=!1;const C=m=>{m>=20&&!v&&(i(!0),s(!1),o(),v=!0)};c.on("time",function(m){C(m.position)}),c.on("seek",function(){v=!1})})}};return window.jwplayer?f():p.onload=f,()=>{document.body.removeChild(p)}},[s,o]),e.jsx("div",{id:"player"})},pe=({mediaType:s,auth:o})=>{var R,I,W,H,K;const u=X(),{id:i}=T(),p=J(),f=Z(),c=ee(),l=te();if(!i||!Number(i))return e.jsx(O,{});const{data:t,status:L,error:j,isFetching:P,isFetched:k}=q({queryKey:["detail",s,i],queryFn:()=>S.getDetail(s,+i),enabled:i!==void 0}),g=q({queryKey:["cast",s,i],queryFn:()=>S.getCast(s,+i),enabled:i!==void 0}),n=q({queryKey:["recommends",s,i],queryFn:()=>S.getRecommendations(s,+i),enabled:i!==void 0}),w=(a,x)=>{S.getVideo(s,x).then(h=>{u==null||u.open(`${h.data.results[0].site==="YouTube"?Q.YouTube:Q.Vimeo}${h.data.results[0].key||""}`)}).catch(h=>{u==null||u.open("https://www.youtube.com")})};if(!t&&k||j)return ae.isAxiosError(j)&&((R=j.response)==null?void 0:R.status)===404?e.jsx(O,{}):e.jsx(oe,{});const d=q({queryKey:["detail",{id:i,mediaType:s},"check-favorite"],queryFn:()=>z.checkAddedToFavorite({id:i+"",type:s}),enabled:o!==null&&(o==null?void 0:o.isLogged)}),v=de({mutationFn:({id:a,type:x})=>{var h;return l==null||l.showLoader(),(h=d.data)!=null&&h.data.added?z.removeFavorite({id:a,type:x}):z.addFavorite({id:a,type:x})},onSuccess(a,x,h){if(!d.data)return;const E={...d.data};return E.data.added=!E.data.added,c.setQueryData(["detail",{id:i,mediaType:s},"check-favorite"],E),c.invalidateQueries({queryKey:["favorites"]}),l==null||l.hiddenLoader(),a},onError(a,x,h){return console.log(a),l==null||l.hiddenLoader(),a}});A.useEffect(()=>{window.scrollTo(0,0)},[p]);const C=()=>{if(!(o!=null&&o.isLogged)){f==null||f.requestOpenForm();return}v.mutate({id:i,type:s})},[y,b]=A.useState(!1),F=()=>{b(!0)},$=(a=>a?"title"in a?a.title:"name"in a?a.name:"":"")(t==null?void 0:t.data),G=((I=t==null?void 0:t.data)==null?void 0:I.overview)||"",D=(W=t==null?void 0:t.data)==null?void 0:W.backdrop_path,M=D?`https://image.tmdb.org/t/p/original/${D}`:"";return e.jsxs("div",{className:"detail-page",children:[e.jsxs(ce,{children:[e.jsx("meta",{charSet:"UTF-8"}),e.jsx("meta",{name:"keywords",content:"your, tags"}),e.jsx("meta",{name:"description",content:G}),e.jsx("meta",{name:"language",content:"EN"}),e.jsx("meta",{name:"robots",content:"index,follow"}),e.jsx("link",{rel:"icon",type:"image/svg+xml",href:"/favicon.ico"}),e.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),e.jsxs("title",{children:[$," Full Movie - Fmovie"]}),e.jsx("meta",{property:"og:image",content:M}),e.jsx("meta",{property:"og:image:secure",content:M}),e.jsx("meta",{property:"og:url",content:""}),e.jsx("meta",{property:"og:type",content:"website"})]}),t&&e.jsxs("div",{className:"detail",style:{backgroundImage:`url(${B(t.data.backdrop_path,1280)})`},children:[e.jsxs("div",{className:"container mx-auto relative z-[1] flex flex-col sm:flex-row justify-center items-center shadow-thickest rounded-lg",style:{width:"calc(100% - 2rem)",aspectRatio:"16 / 9",maxWidth:"1200px"},children:[!y&&e.jsxs("a",{className:"cursor-pointer button is-play",onClick:F,children:[e.jsx("div",{className:"button-outer-circle has-scale-animation"}),e.jsx("div",{className:"button-outer-circle has-scale-animation has-delay-short"}),e.jsx("div",{className:"button-icon is-play",children:e.jsxs("svg",{height:"100%",width:"100%",fill:"#fff",children:[e.jsx("polygon",{className:"triangle",points:"5,0 30,15 5,30",viewBox:"0 0 30 15"}),e.jsx("path",{className:"path",d:"M5,0 L30,15 L5,30z",fill:"none",stroke:"#fff",strokeWidth:"1"})]})})]}),y&&e.jsx("div",{className:"rounded-lg h-full w-full",children:e.jsx(ue,{setShowVideo:b,handleToggleFavorite:C})})]}),e.jsxs(_,{className:"relative z-[1] flex flex-col md:flex-row gap-8 md:gap-16 py-5",children:[e.jsx("div",{className:"detail-card overflow-hidden self-center rounded-2xl w-70 hidden md:block",children:e.jsx(ne.LazyLoadImage,{src:B(t.data.poster_path,200),loading:"lazy",alt:t.data.title||t.data.name||""})}),e.jsxs("div",{className:"detail-content text-white md:flex-1",children:[e.jsx("h1",{className:"name text-white text-4xl tracking-widest font-extrabold",children:t.data.title||t.data.name||""}),e.jsxs("div",{className:"info flex items-center gap-2 md:gap-4 text-sm mt-4",children:[e.jsx("span",{className:"tracking-widest",children:new Date(t.data.release_date||t.data.first_air_date).getFullYear()||"N/A"}),e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(se,{className:"text-xl"}),t.data.runtime||t.data.episode_run_time[0]||"N/A"]}),e.jsxs("span",{className:"flex items-center text-sm",children:[e.jsx(ie,{className:"text-xl mr-1"})," ",t.data.vote_average.toFixed(2),e.jsx("span",{className:"text-xs font-sans italic opacity-70",children:"/10"})]}),e.jsxs("button",{onClick:()=>w(s,t.data.id),className:"flex items-center gap-4 uppercase tracking-[4px] group",children:["Trailer ",e.jsx(me,{className:"text-xl group-hover:translate-x-1 transition-transform duration-300"})]})]}),e.jsx("div",{className:"flex items-center gap-6 flex-wrap mt-6",children:t.data.genres.map((a,x)=>e.jsx("span",{className:"genre-items text-sm border border-white rounded-3xl py-1 px-2",children:a.name},a.id.toString()))}),e.jsx("div",{className:"flex items-center mt-5 gap-x-8 gap-y-4 flex-wrap",children:g.data&&((H=g.data)==null?void 0:H.data.cast.slice(0,4).map((a,x)=>{if(a.profile_path)return e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{className:"w-10 h-10 rounded-full object-cover",src:B(a.profile_path,45),alt:a.name}),e.jsx("span",{className:"text-sm opacity-70 text-white",children:a.name})]},a.id.toString())}))}),e.jsx("div",{className:"mt-6 text-white text-xs lg:w-[80%]",children:t.data.overview}),e.jsx("div",{className:"flex items-center mt-4",children:e.jsxs("button",{className:`flex items-center gap-1 rounded-3xl bg-white/10\r
                                px-4 py-2 transition-all duration-200 ease-in-out hover:bg-white/20`,onClick:C,children:[(K=d.data)!=null&&K.data.added?e.jsx(le,{size:26}):e.jsx(re,{size:26}),e.jsx("span",{className:"text-sm",children:"Add to favorites"})]})})]})]})]}),P&&e.jsx(xe,{}),e.jsx("div",{className:"bg-black-2 py-5",children:e.jsxs(_,{children:[n.data&&n.data.data.results.length>0&&e.jsx("h2",{className:"text-light-gray text-2xl relative",children:"Recommends"}),n.data&&n.data.data.results.length>0&&e.jsx("div",{className:"list-movie-horizontal",children:e.jsx(V,{className:"pb-8 pt-6",data:n.data.data.results||n.data.data.results||[],mediaType:s})}),n.isFetching&&e.jsx(V,{skeleton:!0,data:[],mediaType:"all"})]})})]})},fe=U(pe),Fe=s=>e.jsxs(e.Fragment,{children:[" ",e.jsx(fe,{...s})," "]});export{Fe as default};
